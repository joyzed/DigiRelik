<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hexekta – Artefact</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="option.css">
</head>
<body>
  <header>
    <h1 class="site-title">DigiRelik</h1>
    <nav class="menu">
      <div class="menu-box active" data-section="detail">Détail</div>
      <div class="menu-box" data-section="retour"><a href="hexekta.html" style="color:inherit;text-decoration:none;">Galerie</a></div>
    </nav>
  </header>
  <main>
    <section id="detail" class="section active">
      <section class="artifact-detail" id="artifact-detail">
        <h2>Chargement...</h2>
      </section>
    </section>
    <section id="retour" class="section">
      <p><a href="hexekta.html">← Retour à la galerie Hexekta</a></p>
    </section>
  </main>
  <footer>
    <p>&copy; 2025 DigiRelik – Hexekta</p>
  </footer>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('.menu-box').forEach(box => {
        box.addEventListener('click', function() {
          document.querySelectorAll('.menu-box').forEach(b => b.classList.remove('active'));
          document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
          this.classList.add('active');
          document.getElementById(this.dataset.section).classList.add('active');
        });
      });
      // Chargement dynamique de l'artefact
      const params = new URLSearchParams(window.location.search);
      const id = parseInt(params.get('id'));
      fetch('data.json')
        .then(response => response.json())
        .then(data => {
          const artifact = data[id - 1];
          const container = document.getElementById('artifact-detail');
          if (!artifact) {
            container.innerHTML = '<p>Artefact non trouvé.</p>';
            return;
          }
          container.innerHTML = `
            <h2>Artefact ${id} : ${artifact.nom}</h2>
            <img src="artefact${id}.jpg" alt="Artefact ${id}" class="artifact-image">
            <p>${artifact.description}</p>
          `;
        })
        .catch(error => {
          document.getElementById('artifact-detail').innerHTML = '<p>Erreur lors du chargement des données.</p>';
        });
    });
  </script>
</body>
</html>